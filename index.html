<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>HOPE CHILD DRC – Gestion Complète</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f4f6f8;margin:0}
header{background:#0a4a7a;color:#fff;padding:15px;text-align:center}
header img{height:60px}
nav{display:flex;flex-wrap:wrap;background:#fff;border-bottom:1px solid #ccc}
nav button{flex:1;padding:10px;border:none;background:#fff;cursor:pointer}
nav button:hover{background:#0a4a7a;color:#fff}
section{display:none;padding:15px}
section.active{display:block}
.card{background:#fff;padding:15px;margin:10px 0;border-radius:5px}
input,select,textarea,button{padding:8px;margin:5px 0;width:100%}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:8px;text-align:left}
.actions button{margin-right:5px}
.dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}
.stat{background:#0a4a7a;color:#fff;padding:15px;border-radius:5px;text-align:center}
</style>
</head>
<body>

<header>
<img src="logo.png" alt="HOPE CHILD DRC">
<h2>Application de gestion des données – HOPE CHILD DRC</h2>
<p>Fonctionne hors Internet • Sécurisée • Rapide</p>
</header>

<nav>
<button onclick="show('dashboard')">Dashboard</button>
<button onclick="show('personnel')">Personnel</button>
<button onclick="show('materiel')">Matériel</button>
<button onclick="show('projets')">Projets</button>
<button onclick="show('beneficiaires')">Bénéficiaires</button>
<button onclick="show('enqueteurs')">Enquêteurs</button>
<button onclick="show('partenaires')">Partenaires</button>
</nav>

<section id="dashboard" class="active">
<h3>📊 Tableau de bord</h3>
<div class="dashboard">
<div class="stat">Personnel<br><b id="cPersonnel">0</b></div>
<div class="stat">Matériel<br><b id="cMateriel">0</b></div>
<div class="stat">Projets<br><b id="cProjets">0</b></div>
<div class="stat">Bénéficiaires<br><b id="cBeneficiaires">0</b></div>
<div class="stat">Enquêteurs<br><b id="cEnqueteurs">0</b></div>
<div class="stat">Partenaires<br><b id="cPartenaires">0</b></div>
</div>
</section>

<section id="personnel">
<h3>Gestion du Personnel – HOPE CHILD DRC</h3>
<form id="formPersonnel">
<input type="text" id="pNom" placeholder="Nom et Prénom" required>
<select id="pSexe"><option>Homme</option><option>Femme</option></select>
<input type="text" id="pFonction" placeholder="Fonction" required>
<input type="text" id="pDepartement" placeholder="Service / Département" required>
<input type="text" id="pContact" placeholder="Téléphone / Email" required>
<textarea id="pAdresse" placeholder="Adresse"></textarea>
<input type="date" id="pDateEntree">
<select id="pStatut"><option>Actif</option><option>Inactif</option></select>
<button type="button" onclick="addPersonnel()">Ajouter / Modifier</button>
</form>
<table>
<thead><tr><th>Nom</th><th>Sexe</th><th>Fonction</th><th>Département</th><th>Contact</th><th>Adresse</th><th>Date entrée</th><th>Statut</th><th>Actions</th></tr></thead>
<tbody id="listPersonnel"></tbody>
</table>
</section>

<!-- Répéter la même logique pour Matériel, Projets, Bénéficiaires, Enquêteurs, Partenaires -->

<script>
// Gestion de l'affichage
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

// ----------------- Personnel -----------------
function loadPersonnel(){
let data=JSON.parse(localStorage.getItem("personnel")||"[]");
let list=document.getElementById("listPersonnel"); list.innerHTML="";
data.forEach((v,i)=>{
list.innerHTML+=`<tr>
<td>${v.nom}</td><td>${v.sexe}</td><td>${v.fonction}</td><td>${v.departement}</td><td>${v.contact}</td><td>${v.adresse}</td><td>${v.dateEntree}</td><td>${v.statut}</td>
<td class="actions"><button onclick="editPersonnel(${i})">✏️</button> <button onclick="delPersonnel(${i})">🗑️</button></td>
</tr>`;
});
document.getElementById("cPersonnel").innerText=data.length;
}

function addPersonnel(){
let data=JSON.parse(localStorage.getItem("personnel")||"[]");
let p={
nom: document.getElementById("pNom").value,
sexe: document.getElementById("pSexe").value,
fonction: document.getElementById("pFonction").value,
departement: document.getElementById("pDepartement").value,
contact: document.getElementById("pContact").value,
adresse: document.getElementById("pAdresse").value,
dateEntree: document.getElementById("pDateEntree").value,
statut: document.getElementById("pStatut").value
};
data.push(p);
localStorage.setItem("personnel",JSON.stringify(data));
document.getElementById("formPersonnel").reset();
loadPersonnel();
}

function delPersonnel(i){
let data=JSON.parse(localStorage.getItem("personnel")||"[]");
if(confirm("Supprimer ce personnel ?")){ data.splice(i,1); localStorage.setItem("personnel",JSON.stringify(data)); loadPersonnel();}
}

function editPersonnel(i){
let data=JSON.parse(localStorage.getItem("personnel")||"[]");
let p=data[i];
document.getElementById("pNom").value=p.nom;
document.getElementById("pSexe").value=p.sexe;
document.getElementById("pFonction").value=p.fonction;
document.getElementById("pDepartement").value=p.departement;
document.getElementById("pContact").value=p.contact;
document.getElementById("pAdresse").value=p.adresse;
document.getElementById("pDateEntree").value=p.dateEntree;
document.getElementById("pStatut").value=p.statut;
delPersonnel(i);
}

// Au chargement
loadPersonnel();
</script>

</body>
</html>
